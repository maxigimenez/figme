<dom-module is="figme-list">

    <link rel="stylesheet" href="../styles/list.css">

    <template>

        <iron-ajax
            id="search"
            url="http://api.giphy.com/v1/gifs/search"
            params='{
                "api_key": "dc6zaTOxFJmzC",
                "q": null,
                "limit": 12
            }'
            handle-as="json"
            last-response="{{ items }}"></iron-ajax>

        <template is="dom-if" if="{{ items.data }}">

            <div class="stats">

                Total: <span>[[ items.pagination.total_count ]]</span>
                - <a href="#" on-tap="clear">Clear</a>

                <template is="dom-if" if="{{ color }}">
                    <span class="filter"><a href="#" on-tap="removeColorFilter">Remove color filter</a></span>
                </template>

            </div>

            <figme-colors></figme-colors>

        </template>

        <div class="container">

            <template is="dom-repeat" items="{{ results }}" filter="{{ filterColor(color) }}">

                <figme-item item="{{ item }}"></figme-item>

            </template>

        </div>

        <template is="dom-if" if="{{ ifMore }}">

            <div class="more">

                <paper-icon-button icon="hardware:keyboard-arrow-down"
                    on-tap="more"></paper-icon-button>

            </div>

        </template>

        <paper-toast id="copied" text="Copied!"></paper-toast>

    </template>

    <script src="../scripts/list.js"></script>

</dom-module>
